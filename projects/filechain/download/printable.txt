/* Versione per Linux */\n\n#include <stdio.h>\n#include <stdlib.h>\n#include <unistd.h>\n#include <time.h>\n\n#define MAX_HEIGHT 100\n#define MAX_WIDTH 100\n#define DEAD '+'\n#define ALIVE '#'\n#define BLUE \"\\x1B[34m\"\n#define WHITE \"\\x1B[37m\"\n#define RESET \"\\x1B[0m\"\n\nvoid configura(int [][MAX_WIDTH], int [][MAX_WIDTH], int, int, int *, int *, int *, int *, int *, int *);\nvoid stampa_menu();\nvoid stampa_configurazioni();\nvoid stampa_regole();\nvoid stampa_parametri();\nvoid stampa_inizio(int [][MAX_WIDTH], int, int, int, int);\nvoid carica_acorn(int [][MAX_WIDTH], int, int);\nvoid carica_gosper(int [][MAX_WIDTH], int, int);\nvoid carica_pulsar(int [][MAX_WIDTH], int, int);\nvoid carica_diehard(int [][MAX_WIDTH], int, int);\nvoid carica_pentomino(int [][MAX_WIDTH], int, int);\nvoid carica_random(int [][MAX_WIDTH], int, int);\nint conta_adiacenti(int [][MAX_WIDTH], int, int, int, int);\nvoid chiedi_parametri(int *, int *, int *, int *, int *, int *);\nvoid parametri_predefiniti(int *, int *, int *, int *, int *, int *);\nvoid personalizzato(int [][MAX_WIDTH], int, int); \n\nint main(int argc, char * argv[])\n{\n\tint this_gen[MAX_HEIGHT][MAX_WIDTH], next_gen[MAX_HEIGHT][MAX_WIDTH];\n\tint height, width, i, j;\n\tint frame, no_frames, infinito, vel;\n\tint adiacenti;\n\tint play;\n\n\tplay = 1;\n\n\tinfinito = 0;\n\tno_frames = 50;\n\theight = 20;\n\twidth = 50;\n\tvel = 100000;\n\n\twhile(play) {\n\t\tconfigura(this_gen, next_gen, MAX_HEIGHT, MAX_WIDTH, &play, &no_frames, &infinito, &height, &width, &vel);\n\t\tfor(frame = 0; infinito || frame < no_frames; frame++) {\n\t\t\tfor(i = 1; i < MAX_HEIGHT-1; i++) {\n\t\t\t\tfor(j = 1; j < MAX_WIDTH-1; j++) {\n\t\t\t\t\tadiacenti = conta_adiacenti(this_gen, MAX_HEIGHT, MAX_WIDTH, i, j);\n\t\t\t\t\tif (this_gen[i][j] == 0) {\n\t\t\t\t\t\tif(adiacenti == 3)\n\t\t\t\t\t\t\tnext_gen[i][j] = 1;\n\t\t\t\t\t}\n\t\t\t\t\telse {\t/* if(this_gen[i][j] == 1) */\n\t\t\t\t\t\tif(adiacenti < 2 || adiacenti > 3)\n\t\t\t\t\t\t\tnext_gen[i][j] = 0;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tnext_gen[i][j] = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(i = 1; i < MAX_HEIGHT-1; i++)\n\t\t\t\tfor(j = 1; j < MAX_WIDTH-1; j++)\n\t\t\t\t\tthis_gen[i][j] = next_gen[i][j];\n\t\t\tprintf(\"\\n\");\n\t\t\tfor(i = (MAX_HEIGHT/2)-(height/2); i < (MAX_HEIGHT/2)+(height/2); i++) {\n\t\t\t\tfor(j = (MAX_WIDTH/2)-(width/2); j < (MAX_WIDTH/2)+(width/2); j++) {\n\t\t\t\t\tif(this_gen[i][j] == 0)\n\t\t\t\t\t\tprintf(BLUE \"%%c \" RESET, DEAD);\n\t\t\t\t\telse\n\t\t\t\t\t\tprintf(WHITE \"%%c \" RESET, ALIVE);\n\t\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t\t}\n\t\tusleep(vel);\n\t\tsystem(\"clear\"); }\n\t\tif(play) {\n\t\t\tstampa_inizio(this_gen, MAX_HEIGHT, MAX_WIDTH, height, width);\n\t\t}\n\t}\n\n\tsystem(\"clear\");\n\tprintf(\"GAME OVER\\n\\n\");\n\n\treturn 0;\n}\n\nvoid configura(int mat_1[][MAX_WIDTH], int mat_2[][MAX_WIDTH], int h, int w, int * p, int * nfr, int * inf, int * height, int * width, int * vel)\n{\n\tint i, j;\n\tint option;\n\n\tfor(i = 0; i < h; i++)\n\t\tfor(j = 0; j < w; j++) {\n\t\t\tmat_1[i][j] = 0;\n\t\t\tmat_2[i][j] = 0;\n\t\t}\n\tstampa_menu();\n\tscanf(\"%%d\", &option);\n\tif(option == 0) {\n\t\t*nfr = 0;\n\t\t*p = 0;\n\t}\n\telse if(option == 1) {\n\t\tstampa_configurazioni();\n\t\tscanf(\"%%d\", &option);\n\t\tif(option == 0)\n\t\t\tconfigura(mat_1, mat_2, h, w, p, nfr, inf, height, width, vel);\n\t\telse if(option == 1)\n\t\t\tcarica_acorn(mat_1, h, w);\n\t\telse if(option == 2)\n\t\t\tcarica_gosper(mat_1, h, w);\n\t\telse if(option == 3)\n\t\t\tcarica_pulsar(mat_1, h, w);\n\t\telse if(option == 4)\n\t\t\tcarica_diehard(mat_1, h, w);\n\t\telse if(option == 5)\n\t\t\tcarica_pentomino(mat_1, h, w);\n\t\telse if(option == 6)\n\t\t\tcarica_random(mat_1, h, w);\n\t\telse\n\t\t\tconfigura(mat_1, mat_2, h, w, p, nfr, inf, height, width, vel);\n\t\tif(option == 1 || option == 2 || option == 3 || option == 4 || option == 5 || option == 6) {\n\t\t\tstampa_parametri();\n\t\t\tscanf(\"%%d\", &option);\n\t\t\tif(option == 2)\n\t\t\t\tchiedi_parametri(p, nfr, inf, height, width, vel);\n\t\t\telse\n\t\t\t\tparametri_predefiniti(p, nfr, inf, height, width, vel);\n\t\t\tstampa_inizio(mat_1, h, w, *height, *width);\n\t\t}\n\t}\n\telse if(option == 2) {\n\t\tpersonalizzato(mat_1, h, w);\n\t\tstampa_parametri();\n\t\tscanf(\"%%d\", &option);\n\t\t\tif(option == 2)\n\t\t\t\tchiedi_parametri(p, nfr, inf, height, width, vel);\n\t\t\telse\n\t\t\t\tparametri_predefiniti(p, nfr, inf, height, width, vel);\n\t\t\tstampa_inizio(mat_1, h, w, *height, *width);\n\t}\n\telse if(option == 3) {\n\t\tstampa_regole();\n\t\tscanf(\"%%d\", &option);\n\t\t\tif(option == 0)\n\t\t\tconfigura(mat_1, mat_2, h, w, p, nfr, inf, height, width, vel);\n\t\t\telse\n\t\t\tconfigura(mat_1, mat_2, h, w, p, nfr, inf, height, width, vel);\n\t}\n\telse {\n\t\t*nfr = 0;\n\t\t/* *p = 0; */\n\t}\n\n}\n\nvoid stampa_menu() \n{\n\tsystem(\"clear\");\n\tprintf(\"\\nGIOCO DELLA VITA DI JOHN CONWAY\\n\");\n\tprintf(\"Marco Anese - Versione 1.0 (11 Dicembre 2017)\\n\\n\");\n\tprintf(\"MENU PRINCIPALE\\n\\n\");\n\tprintf(\"[1] Predefinito\\n\");\n\tprintf(\"[2] Personalizzato\\n\");\n\tprintf(\"[3] Regole\\n\");\n\tprintf(\"[0] Chiudi\\n\\n\");\n}\n\nvoid stampa_configurazioni()\n{\n\tsystem(\"clear\");\n\tprintf(\"\\nGIOCO DELLA VITA DI JOHN CONWAY\\n\");\n\tprintf(\"(c) Marco Anese - Versione 0.9 (11-15-2017)\\n\\n\");\n\tprintf(\"CONFIGURAZIONI\\n\\n\");\n\tprintf(\"[1] Acorn\\n\");\n\tprintf(\"[2] Gosper Glider Gun\\n\");\n\tprintf(\"[3] Pulsar\\n\");\n\tprintf(\"[4] Die Hard\\n\");\n\tprintf(\"[5] The R-pentomino\\n\");\n\tprintf(\"[6] Random\\n\");\n\tprintf(\"[0] Indietro\\n\\n\");\n}\n\nvoid stampa_regole()\n{\n\tsystem(\"clear\");\n\tprintf(\"\\nGIOCO DELLA VITA DI JOHN CONWAY\\n\");\n\tprintf(\"(c) Marco Anese - Versione 0.9 (11-15-2017)\\n\\n\");\n\tprintf(\"REGOLE\\n\");\n\tprintf(\"\\nLe transizioni dipendono unicamente dallo stato delle celle vicine in quella generazione:\\n\\n\");\n\tprintf(\"Qualsiasi cella viva con meno di due celle vive adiacenti muore per isolamento;\\n\");\n\tprintf(\"Qualsiasi cella viva con due o tre celle vive adiacenti sopravvive alla generazione successiva;\\n\");\n\tprintf(\"Qualsiasi cella viva con piÃ¹ di tre celle vive adiacenti muore per sovrappopolazione;\\n\");\n\tprintf(\"Qualsiasi cella morta con tre celle vive adiacenti diventa una cella viva per riproduzione.\\n\");\n\tprintf(\"\\n[0] OK\\n\\n\");\n}\n\nvoid carica_acorn(int m[][MAX_WIDTH], int h, int w)\n{\n\tm[h/2+1][w/2-3] = 1;\n\tm[h/2+1][w/2-2] = 1;\n\tm[h/2+1][w/2+1] = 1;\n\tm[h/2+1][w/2+2] = 1;\n\tm[h/2+1][w/2+3] = 1;\n\tm[h/2-1][w/2-2] = 1;\n\tm[h/2][w/2] = 1;\n}\n\nvoid carica_gosper(int m[][MAX_WIDTH], int h, int w)\n{\n\tm[h/2-1][w/2-17] = 1;\n\tm[h/2-1][w/2-16] = 1;\n\tm[h/2][w/2-17] = 1;\n\tm[h/2][w/2-16] = 1;\n\tm[h/2-3][w/2-5] = 1;\n\tm[h/2-3][w/2-4] = 1;\n\tm[h/2-2][w/2-6] = 1;\n\tm[h/2-1][w/2-7] = 1;\n\tm[h/2][w/2-7] = 1;\n\tm[h/2+1][w/2-7] = 1;\n       \tm[h/2+2][w/2-6] = 1;\n\tm[h/2+3][w/2-5] = 1;\n\tm[h/2+3][w/2-4] = 1;\n\tm[h/2][w/2-3] = 1;\n\tm[h/2][w/2-1] = 1;\n\tm[h/2][w/2] = 1;\n\tm[h/2-1][w/2-1] = 1;\n\tm[h/2+1][w/2-1] = 1;\n\tm[h/2-2][w/2-2] = 1;\n\tm[h/2+2][w/2-2] = 1;\n\tm[h/2-3][w/2+3] = 1;\n\tm[h/2-3][w/2+4] = 1;\n\tm[h/2-2][w/2+3] = 1;\n\tm[h/2-2][w/2+4] = 1;\n\tm[h/2-1][w/2+3] = 1;\n\tm[h/2-1][w/2+4] = 1;\n\tm[h/2-4][w/2+5] = 1;\n\tm[h/2][w/2+5] = 1;\n\tm[h/2-4][w/2+7] = 1;\n\tm[h/2-5][w/2+7] = 1;\n\tm[h/2][w/2+7] = 1;\n\tm[h/2+1][w/2+7] = 1;\n\tm[h/2-3][w/2+17] = 1;\n\tm[h/2-3][w/2+18] = 1;\n\tm[h/2-2][w/2+17] = 1;\n\tm[h/2-2][w/2+18] = 1;\n}\n\nvoid carica_pulsar(int m[][MAX_WIDTH], int h, int w)\n{\n\tm[h/2-4][w/2-6] = 1;\n\tm[h/2-3][w/2-6] = 1;\n\tm[h/2-2][w/2-6] = 1;\n\tm[h/2+2][w/2-6] = 1;\n\tm[h/2+3][w/2-6] = 1;\n\tm[h/2+4][w/2-6] = 1;\n\tm[h/2-4][w/2+6] = 1;\n\tm[h/2-3][w/2+6] = 1;\n\tm[h/2-2][w/2+6] = 1;\n\tm[h/2+2][w/2+6] = 1;\n\tm[h/2+3][w/2+6] = 1;\n\tm[h/2+4][w/2+6] = 1;\n\tm[h/2-1][w/2-4] = 1;\n\tm[h/2-1][w/2-3] = 1;\n\tm[h/2-1][w/2-2] = 1;\n\tm[h/2+1][w/2-4] = 1;\n\tm[h/2+1][w/2-3] = 1;\n\tm[h/2+1][w/2-2] = 1;\n\tm[h/2-1][w/2+4] = 1;\n\tm[h/2-1][w/2+3] = 1;\n\tm[h/2-1][w/2+2] = 1;\n\tm[h/2+1][w/2+4] = 1;\n\tm[h/2+1][w/2+3] = 1;\n\tm[h/2+1][w/2+2] = 1;\n\tm[h/2-4][w/2-1] = 1;\n\tm[h/2-3][w/2-1] = 1;\n\tm[h/2-2][w/2-1] = 1;\n\tm[h/2+4][w/2-1] = 1;\n\tm[h/2+3][w/2-1] = 1;\n\tm[h/2+2][w/2-1] = 1;\n\tm[h/2-4][w/2+1] = 1;\n\tm[h/2-3][w/2+1] = 1;\n\tm[h/2-2][w/2+1] = 1;\n\tm[h/2+4][w/2+1] = 1;\n\tm[h/2+3][w/2+1] = 1;\n\tm[h/2+2][w/2+1] = 1;\n\tm[h/2-6][w/2-4] = 1;\n\tm[h/2-6][w/2-3] = 1;\n\tm[h/2-6][w/2-2] = 1;\n\tm[h/2+6][w/2-4] = 1;\n\tm[h/2+6][w/2-3] = 1;\n\tm[h/2+6][w/2-2] = 1;\n\tm[h/2-6][w/2+4] = 1;\n\tm[h/2-6][w/2+3] = 1;\n\tm[h/2-6][w/2+2] = 1;\n\tm[h/2+6][w/2+4] = 1;\n\tm[h/2+6][w/2+3] = 1;\n\tm[h/2+6][w/2+2] = 1;\n\t\n}\n\nvoid carica_diehard(int m[][MAX_WIDTH], int h, int w)\n{\n\tm[h/2+1][w/2-2] = 1;\n\tm[h/2][w/2-2] = 1;\n\tm[h/2+1][w/2-3] = 1;\n\tm[h/2-1][w/2+3] = 1;\n\tm[h/2+1][w/2+2] = 1;\n\tm[h/2+1][w/2+3] = 1;\n\tm[h/2+1][w/2+4] = 1;\n}\nvoid carica_pentomino(int m[][MAX_WIDTH], int h, int w)\n{\n\tm[h/2][w/2] = 1;\n\tm[h/2][w/2-1] = 1;\n\tm[h/2-1][w/2] = 1;\n\tm[h/2+1][w/2] = 1;\n\tm[h/2-1][w/2+1] = 1;\n}\nvoid carica_random(int m[][MAX_WIDTH], int h, int w)\n{\n\tint i, j;\n\n\tsrand(time(NULL));\n\tfor(i = 2; i < h-2; i++)\n\t\tfor(j = 2; j < w-2; j++)\n\t\t\tm[i][j] = rand() %% 2;\n}\n\nint conta_adiacenti(int mat[][MAX_WIDTH], int h, int w, int i, int j)\n{\n\tint x, y;\n\tint sum;\n\n\tfor(x = i-1, sum = 0; x <= i+1; x++)\n\t\tfor(y = j-1; y <= j+1; y++)\n\t\t\tsum = sum + mat[x][y];\n\n\tsum = sum - mat[i][j];\n\n\treturn sum;\n}\n\nvoid stampa_parametri()\n{\t\n\tsystem(\"clear\");\n\tprintf(\"\\nGIOCO DELLA VITA DI JOHN CONWAY\\n\");\n\tprintf(\"(c) Marco Anese - Versione 0.9 (11-15-2017)\\n\\n\");\n\tprintf(\"IMPOSTAZIONE PARAMETRI\\n\\n\");\n\tprintf(\"[1] Predefiniti\\n\");\n\tprintf(\"[2] Personalizzati\\n\");\n\tprintf(\"[0] Indietro\\n\\n\");\n}\n\nvoid stampa_inizio(int this_gen[][MAX_WIDTH], int h, int w, int height, int width)\n{\n\tint i, j;\n\tint start;\n\n\tsystem(\"clear\");\n\tprintf(\"\\n\");\n\tfor(i = (h/2)-(height/2); i < (h/2)+(height/2); i++) {\n\t\tfor(j = (w/2)-(width/2); j < (w/2)+(width/2); j++) {\n\t\t\tif(this_gen[i][j] == 0)\n\t\t\t\tprintf(BLUE \"%%c \" RESET, DEAD);\n\t\t\telse\n\t\t\t\tprintf(WHITE \"%%c \" RESET, ALIVE);\n\t\t}\n\tprintf(\"\\n\");\n\t}\n\tprintf(\"\\nDigita un input qualsiasi per continuare... \");\n\tscanf(\"%%d\", &start);\n\n}\n\nvoid chiedi_parametri(int * p, int * nfr, int * inf, int * height, int * width, int * vel)\n{\n\tsystem(\"clear\");\n\tprintf(\"\\nGIOCO DELLA VITA DI JOHN CONWAY\\n\\n\");\n\tprintf(\"IMPOSTAZIONE PARAMETRI\\n\\n\");\n\tprintf(\"Lunghezza griglia (predefinito = 40): \");\n\tdo\n\t\tscanf(\"%%d\", width);\n\twhile(*width <= 0 || *width > MAX_WIDTH);\n\tprintf(\"Altezza griglia (predefinito = 25): \");\n\tdo\n\t\tscanf(\"%%d\", height);\n\twhile(*width <= 0 || *width > MAX_WIDTH);\n\tprintf(\"Numero di frames (predefinito = 100): \");\n\tscanf(\"%%d\", nfr);\n\tif(*nfr < 0)\n\t*inf = 1;\n\tprintf(\"Latenza (predefinito = 100): \");\n\tdo\n\t\tscanf(\"%%d\", vel);\n\twhile(*vel < 0);\n\t*vel = *vel * 1000;\n}\n\nvoid parametri_predefiniti(int * p, int * nfr, int * inf, int * height, int * width, int * vel)\n{\n\t*width = 40;\n\t*height = 25;\n\t*nfr = 100;\n\t*vel = 100000;\n}\n\nvoid personalizzato(int mat[][MAX_WIDTH], int h, int w)\n{\n\tint i, j;\n\tint stop;\n\n\tsystem(\"clear\");\n\tprintf(\"\\nGIOCO DELLA VITA DI JOHN CONWAY\\n\");\n\tprintf(\"(c) Marco Anese - Versione 0.9 (11-15-2017)\\n\\n\");\n\tprintf(\"CONFIGURAZIONE PERSONALIZZATA\\n\\n\");\n\tprintf(\"Digita la coppia di coordinate [i j] che vuoi accendere\\n\");\n\tprintf(\"Il punto [0 0] e' al centro della griglia\\n\");\n\tprintf(\"Quando hai finito, digita un valore >= 100\\n\\n\");\n\tstop = 0;\n\twhile(!stop) {\n\t\tscanf(\"%%d\", &i);;\n\t\tif(i >= 100 || i <= -100)\n\t\t\tstop = 1;\n\t\tif(!stop) {\n\t\t\tscanf(\"%%d\", &j);\n\t\t\t\tif(j >= 100 || j <= -100)\n\t\t\t\t\tstop = 1;\n\t\t}\n\tif(!stop) \n\t\tmat[i+(h/2)][j+(w/2)] = 1;\n\t}\n}\n